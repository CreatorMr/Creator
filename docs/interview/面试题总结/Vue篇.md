### 虚拟dom 有什么好处和作用？

 首先什么是虚拟DOM， 简单来说是用JS对象纪录的一个DOM节点的副本。
 虚拟 DOM (VDOM)是真实 DOM 在内存中的表示。UI 的表示形式保存在内存中，并与实际的 DOM 同步。这是一个发生在渲染函数被调用和元素在屏幕上显示之间的步骤，整个过程被称为调和
 
 **为什么虚拟 dom 会提高性能?** 
虚拟dom相当于在js和真实dom中间加了一个缓存，利用dom diff算法避免了没有必要的dom操作，从而提高性能。

当DOM发生更改的时候，先用虚拟DOM进行diff， 算出最小差异，然后再修改真实DOM。
当用传统的方式修改DOM的时候，浏览器每次都会从构建DOM树开始从头到尾执行一遍流程，效率低。

1.用 JavaScript 对象结构表示 DOM 树的结构；然后用这个树构建一个真正的 DOM 树，插到文档当中
2.当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异
3.把2所记录的差异应用到步骤1所构建的真正的DOM树上，视图就更新了。
4.把树形结构按照层级分解，只比较同级元素。

### DOM 的diff算法

Vue 中 key 的作用是：key 是为 Vue 中 vnode 的唯一标记，通过这个 key，我们的 diff 操作可以更准确、更快速
更准确：因为带 key 就不是就地复用了，在 sameNode 函数 a.key === b.key 对比中可以避免就地复用的情况。所以会更加准确。
更快速：利用 key 的唯一性生成 map 对象来获取对应节点，比遍历方式更快 